{% extends "base.html" %}

{% block content %}
<header class="bg-white shadow-md rounded-lg px-6 py-4 w-full max-w-2xl text-center">
    <h1 class="text-2xl font-semibold text-gray-800">Health Data Charts</h1>
</header>

<div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl">
    <h2 class="text-lg font-bold text-gray-700 mb-4">Chart Display</h2>
    <canvas id="healthChart"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        fetch("/api/generate-chart/")
            .then(response => response.json())
            .then(data => {
                if (data.image) {
                    document.getElementById("healthChart").innerHTML = 
                        `<img src="${data.image}" class="w-full rounded-lg shadow-md" />`;
                }
            });
    });
</script>
{% endblock %}
